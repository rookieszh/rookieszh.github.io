---
title: Regex
date: 2020-04-09 02:30:45
tags:
    - Regex
description: "Regex Introduction. 介绍了匹配规则与字符。下一章将介绍python中如何使用regex"
---

> Regular expression (regex/regexp)
> 正则表达式是一种从左到右匹配主体字符串的模式
> 正则表达式可以从一个基础字符串中根据一定的匹配模式替换文本中的字符串、验证表单、提取字符串等等
> [在线正则](https://regex101.com/)
## 基本匹配
正则表达式其实就是在执行搜索时的格式，它由一些字母和数字组合而成。例如：一个正则表达式 the，它表示一个规则：由字母t开始，接着是h，再接着是e。正则表达式是大小写敏感的。

## 元字符 meta character
> 正则表达式主要依赖于元字符。 元字符不代表他们本身的字面意思，他们都有特殊的含义。
```
——————点运算符
.	句号匹配任意单个字符除了换行符。

——————字符集与否定字符集
[ ]	字符种类。匹配方括号内的任意字符。不关心顺序。[.]方括号中的句号就表示句号，不是元字符。
[^ ]	否定的字符种类。匹配除了方括号里的任意字符。不关心顺序。

——————重复次数
*	匹配>=0个重复的在*号之前的字符。
+	匹配>=1个重复的+号前的字符。
?	标记?之前的字符为可选，即出现 0 或 1 次。

——————{}，是一个量词
{n,m}	匹配num个大括号之间的字符 (n <= num <= m).
{n,}	匹配num个大括号之间的字符 (n <= num).
{,m}	匹配num个大括号之间的字符 (num <= m).
{n}	匹配num个大括号之间的字符 (n = num).

——————(...) 特征标群
(xyz)	字符集，匹配与 xyz 完全相等的字符串，() 中用或字符 | 表示或。

—————— | 或运算符
|	或运算符，匹配符号前或后的字符。

——————转码特殊字符
\	转义字符,用于匹配一些保留的字符 [ ] ( ) { } . * + ? ^ $ \ |

——————锚点
^	用来检查匹配的字符串是否在所匹配字符串的开头。
$	用来匹配字符是否是最后一个，例如(at\.)$ 匹配以 at. 结尾的字符串。

——————只匹配不获取
?:	加在目标之前
```
## 简写字符集
```
大写和小写互补，两者加一起是全集

\b	匹配空字符串，但仅适用于单词的“首尾”
\B	匹配空字符串，但仅适用于单词的“非首尾”
.	除换行符外的所有字符
\w	匹配所有字母数字下划线，等同于 [a-zA-Z0-9_]
\W	匹配所有非字母数字，即符号，等同于： [^\w]
\d	匹配数字： [0-9]
\D	匹配非数字： [^\d]
\s	匹配所有空格字符，等同于： [\t\n\f\r\p{Z}]
\S	匹配所有非空格字符： [^\s]
\f	匹配一个换页符
\n	匹配一个换行符
\r	匹配一个回车符
\t	匹配一个制表符
\v	匹配一个垂直制表符
\p	匹配 CR/LF（等同于 \r\n），用来匹配 DOS 行终止符
\A	匹配句子的“开头”字符，等价于 ^
\Z	匹配句子的“结尾”字符，等价于 $
```
## 零宽度断言（前后预查）
```
?=	正先行断言-存在    (T|t)he(?=\sfat): 判断 The 或 the 后面是否紧跟着 (空格)fat，匹配对象是 The、the，不是\sfat
?!	负先行断言-排除
?<=	正后发断言-存在    (?<=(T|t)he\s)(fat|mat): 匹配 fat 和 mat，且其前跟着 The 或 the
?<!	负后发断言-排除
```
## 标志/模式修正符
> 用来修改表达式的搜索结果。这些标志可以任意的组合使用，它也是整个正则表达式的一部分。
```
i	忽略大小写。
g	全局搜索。
m	多行修饰符：锚点元字符 ^ $ 工作范围在每行的起始。

/The/gi 全局搜索所有不分大小写的the

以下匹配上了fat、cat、mat
/.at(.)?$/gm => The fat
                cat sat
                on the mat.
```
## 贪婪匹配与惰性匹配
> 正则表达式默认采用贪婪匹配模式，在该模式下意味着会匹配尽可能长的子串。我们可以使用 ? 将贪婪匹配模式转化为惰性匹配模式。
```
以下除了最后的 . ，其他全部匹配上
(.*at) => The fat cat sat on the mat.

以下只匹配了 The fat 
(.*?at) => The fat cat sat on the mat.
```
